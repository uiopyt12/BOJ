#include <bits/stdc++.h>
using namespace std;

int board[500][500];
int n, m;
pair<int, int> shape[19][4] =
{
	{ {0, 0}, {0, 1}, {0, 2}, {0, 3} }, // ㅡ
	{ {0, 0}, {1, 0}, {2, 0}, {3, 0} }, // ㅣ

	{ {0, 0}, {1, 0}, {0, 1}, {1, 1} }, // ㅁ

	{ {0, 0}, {0, 1}, {-1, 1}, {0, 2} }, // ㅗ
	{ {0, 0}, {1, 0}, {1, 1}, {2, 0} }, // ㅏ
	{ {0, 0}, {0, 1}, {1, 1}, {0, 2} }, // ㅜ
	{ {0, 0}, {1, 0}, {1, -1}, {2, 0} }, // ㅓ

	{ {0, 0}, {1, 0}, {2, 0}, {2, 1} }, // L
	{ {0, 0}, {1, 0}, {2, 0}, {2, -1} },
	{ {0, 0}, {0, 1}, {0, 2}, {1, 0} },
	{ {0, 0}, {0, 1}, {0, 2}, {-1, 0} },
	{ {0, 0}, {0, 1}, {1, 1}, {2, 1} },
	{ {0, 0}, {0, -1}, {1, -1}, {2, -1} },
	{ {0, 0}, {0, 1}, {0, 2}, {-1, 2} },
	{ {0, 0}, {0, 1}, {0, 2}, {1, 2} },

	{ {0, 0}, {1, 0}, {1, 1}, {2, 1} },
	{ {0, 0}, {1, 0}, {1, -1}, {2, -1} },
	{ {0, 0}, {0, 1}, {-1, 1}, {-1, 2} },
	{ {0, 0}, {0, 1}, {1, 1}, {1, 2}}
};

int main()
{
	cin >> n >> m;
	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < m; j++)
		{
			cin >> board[i][j];
		}
	}

	int mx = 0;
	int cur;
	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < m; j++)
		{
			for (int k = 0; k < 19; k++)
			{
				cur = 0;
				for (int l = 0; l < 4; l++)
				{
					int ny = i + shape[k][l].first;
					int nx = j + shape[k][l].second;
					if (ny < 0 || ny >= n || nx < 0 || nx >= m) break; // 테트로미노가 범위 바깥으로 나가면
					cur += board[ny][nx];
				}
				mx = max(mx, cur);
			}
		}
	}

	cout << mx;

}